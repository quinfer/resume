<!DOCTYPE html>
<html lang="en"><head>
<script src="cv_grants_files/libs/clipboard/clipboard.min.js"></script>
<script src="cv_grants_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="cv_grants_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="cv_grants_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="cv_grants_files/libs/quarto-html/popper.min.js"></script>
<script src="cv_grants_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="cv_grants_files/libs/quarto-html/anchor.min.js"></script>
<link href="cv_grants_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="cv_grants_files/libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="cv_grants_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="cv_grants_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="cv_grants_files/libs/bootstrap/bootstrap-d6a003b94517c951b2d65075d42fb01b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prof.&nbsp;Barry Quinn</title>
        <link rel="stylesheet" href="custom-styles.css">
        </head>
<body class="bg-gray-100 fullcontent quarto-light">
    <header class="bg-white shadow-md p-6 mb-6 flex flex-col md:flex-row justify-between items-center">
        <div>
            <h1 class="text-3xl font-bold text-gray-800">Prof.&nbsp;Barry Quinn</h1>
            <p class="text-xl text-gray-600">Professor of Finance and Financial Technology</p>
        </div>
        <div class="headshot-container mt-4 md:mt-0">
            <img src="img/head_shot.png" alt="Prof.&nbsp;Barry Quinn" class="headshot">
        </div>
    </header>

    <main class="bg-white shadow-md p-6">
        <section id="contact-information" class="level1">
        <h1>Contact Information</h1>
        <ul>
        <li><strong>Address</strong>: Ulster University Business School, Belfast Campus, York Street, Belfast, BT1 5AB, N. Ireland</li>
        <li><strong>Email</strong>: b.quinn1@ulster.ac.uk | <strong>GitHub</strong>: <a href="https://github.com/quinfer">quinfer</a></li>
        <li><strong>ORCID</strong>: <a href="https://orcid.org/0000-0002-8637-9060">0000-0002-8637-9060</a></li>
        <li><strong>Date of Birth</strong>: 10 July 1973</li>
        </ul>
        </section>
        <section id="research-profile-summary" class="level1">
        <h1>Research Profile Summary</h1>
        <p>Professor Barry Quinn is Professor of Finance &amp; Financial Technology at Ulster University Business School and Director of the Centre for Finance and Responsible Technology. The Centre is guided by three pillars: statistical rigour and intellectual humility; practical industry relevance; and responsible algorithmic innovation.</p>
        <p>Barry is a Chartered Statistician and views econometrics as an applied statistical science. His work integrates econometrics, statistical learning, and computational methods to address problems in financial markets and institutions, risk measurement, and evidence for regulation and compliance. A core aim is to produce analysis that is transparent, reproducible, and auditable, and to keep conclusions proportionate to the strength of the evidence.</p>
        <p>Before entering academia, Barry worked in financial markets, specialising in currency trading and liquidity management. He holds a PhD in Finance and an MSc in Artificial Intelligence (Distinction) from Queen’s University Belfast. He actively collaborates with industry and policy partners to ensure his research delivers academic, societal, and public value.</p>
        <p><strong>Research Interests</strong>: AI applications in finance, causal AI, financial data science, market manipulation detection, systemic risk assessment, computational approaches to financial regulation, cooperative finance, sustainable finance, generative AI in capital markets.</p>
        </section>
        <section id="education-and-professional-qualifications" class="level1">
        <h1>Education and Professional Qualifications</h1>
        <table class="caption-top table">
        <colgroup>
        <col style="width: 35%">
        <col style="width: 23%">
        <col style="width: 4%">
        <col style="width: 36%">
        </colgroup>
        <thead>
        <tr class="header">
        <th style="text-align: left;">Qualification</th>
        <th style="text-align: left;">Institution</th>
        <th style="text-align: left;">Year</th>
        <th style="text-align: left;">Research Relevance</th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td style="text-align: left;">Ph.D.&nbsp;Finance</td>
        <td style="text-align: left;">Queen’s University Belfast</td>
        <td style="text-align: left;">2012</td>
        <td style="text-align: left;">Thesis: Cooperative Financial Institutions</td>
        </tr>
        <tr class="even">
        <td style="text-align: left;">MSc Quantitative Finance</td>
        <td style="text-align: left;">RMIT University Melbourne</td>
        <td style="text-align: left;">2006</td>
        <td style="text-align: left;">Advanced derivatives and risk management</td>
        </tr>
        <tr class="odd">
        <td style="text-align: left;">MSc Artificial Intelligence (Distinction)</td>
        <td style="text-align: left;">Queen’s University Belfast</td>
        <td style="text-align: left;">2025</td>
        <td style="text-align: left;">Deep learning, NLP, computer vision</td>
        </tr>
        <tr class="even">
        <td style="text-align: left;">Advanced Data Science Professional</td>
        <td style="text-align: left;">Royal Statistical Society</td>
        <td style="text-align: left;">2023</td>
        <td style="text-align: left;">Professional recognition in data science</td>
        </tr>
        <tr class="odd">
        <td style="text-align: left;">Chartered Statistician</td>
        <td style="text-align: left;">Royal Statistical Society</td>
        <td style="text-align: left;">2019</td>
        <td style="text-align: left;">Professional statistical expertise</td>
        </tr>
        <tr class="even">
        <td style="text-align: left;">B.Sc.(Hons) Accounting and Finance</td>
        <td style="text-align: left;">Queen’s University Belfast</td>
        <td style="text-align: left;">1995</td>
        <td style="text-align: left;">First Class Honours</td>
        </tr>
        </tbody>
        </table>
        </section>
        <section id="research-excellence" class="level1">
        <h1>Research Excellence</h1>
        <section id="publication-record-h-index-available-upon-request" class="level2">
        <h2 class="anchored" data-anchor-id="publication-record-h-index-available-upon-request">Publication Record (h-index: Available upon request)</h2>
        <section id="peer-reviewed-publications-14-total" class="level3">
        <h3 class="anchored" data-anchor-id="peer-reviewed-publications-14-total">Peer-Reviewed Publications (14 total)</h3>
        <p><strong>Recent High-Impact Publications:</strong></p>
        <ul>
        <li><p><strong>Liu, Weilong, Zhang, Yong, Liu, Kailong, Quinn, Barry</strong>, Yang, Xingyu, Peng, Qiao (2024). Evolutionary Multi-Objective Optimisation for Large-Scale Portfolio Selection With Both Random and Uncertain Returns. <em>IEEE Transactions on Evolutionary Computation</em> (<strong>ABS4</strong>)</p></li>
        <li><p><strong>McKillop, Donal, Liu, Kailong, Quinn, Barry</strong>, Peng, Qiao (Forthcoming). Modelling and Predicting Credit Union Failures. <em>International Journal of Forecasting</em> (<strong>ABS3</strong>)</p></li>
        <li><p><strong>Bouri, E., Quinn, B., Sheenan, L. &amp; Tang, Y.</strong> (2024). Investigating extreme linkage topology in the aerospace and defence industry. <em>International Review of Financial Analysis</em> (<strong>ABS3</strong>)</p></li>
        <li><p><strong>Quinn, Barry, Gallagher, Ronan, Kuosmanen, Timo</strong> (2023). Lurking in the shadows: The impact of CO2 emissions target setting on carbon pricing in the Kyoto agreement period. <em>Energy Economics</em> (<strong>ABS3</strong>)</p></li>
        </ul>
        </section>
        <section id="software-publications" class="level3">
        <h3 class="anchored" data-anchor-id="software-publications">Software Publications</h3>
        <ul>
        <li><strong>Time Series Econometrics (tsfe)</strong> (2022) - R Package for advanced time series analysis (DOI: 10.5281/zenodo.6376113)</li>
        <li><strong>Financial Machine Learning (fml)</strong> (2020) - R Package for financial ML applications (DOI: 10.5281/zenodo.6376114)</li>
        </ul>
        </section>
        <section id="working-papers-under-review" class="level3">
        <h3 class="anchored" data-anchor-id="working-papers-under-review">Working Papers &amp; Under Review</h3>
        <ul>
        <li><strong>Dai, Yongsheng; Quinn, Barry; Kearney, Fearghal; Wang, Hui</strong> (Submitted). <em>Amplifying Market Manipulation Detection Signals</em>. Submitted to <em>Economics Letters</em>. Manuscript EL66561.</li>
        <li><strong>Dai, Yongsheng; Quinn, Barry; Kearney, Fearghal; Liu, Weilong; Spence, Ivor; Rafferty, Karen; Wang, Hui</strong> (Submitted). <em>Detecting Market Manipulation with Dual-branch Self-supervised Learning: A Unified Framework Integrating Frequency-informed Anomaly Synthesis and Domain-Specific Features</em>. Submitted to <em>Information Processing and Management</em>. Manuscript IPM-D-25-06138.</li>
        <li><strong>Quinn, Barry</strong> (2023). <em>Explaining AI in Finance: Past, Present, Prospects</em>. arXiv preprint arXiv:2306.02773.</li>
        <li><strong>Zhang, Ying (Veronica), Quinn, Barry, Sheenan, Lisa</strong> (2025). <em>Ownership Dynamics, Risk and Regulation in Chinese Banking: New Evidence</em></li>
        <li><strong>Kearney, Fearghal, Quinn, Barry, Pramanick, Abhishek</strong> (Under Review) <em>Innovation Signals and Strategic Exits: How Technological Readiness Shapes Outcomes in Computational Approaches to Financial Regulation</em></li>
        <li><strong>Hannon, James; French, Declan; Quinn, Barry; O’Hagan, Adrian</strong> (Submitted). <em>Geospatial modeling of vehicle crime in Northern Ireland using computer vision to identify environmental factors</em>. Submitted to <em>Insurance: Mathematics and Economics</em>. Manuscript IME-D-25-00419.</li>
        </ul>
        </section>
        </section>
        </section>
        <section id="research-funding-track-record" class="level1">
        <h1>Research Funding Track Record</h1>
        <div class="cell">
        <div id="tbl-grants-detailed" class="cell quarto-float quarto-figure quarto-figure-center anchored">
        <figure class="quarto-float quarto-float-tbl figure">
        <figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-grants-detailed-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
        Table&nbsp;1: Research Grant Portfolio
        </figcaption>
        <div aria-describedby="tbl-grants-detailed-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
        <div class="cell-output-display">
        <table class="do-not-create-environment cell caption-top table table-sm table-striped small">
        <colgroup>
        <col style="width: 20%">
        <col style="width: 3%">
        <col style="width: 7%">
        <col style="width: 51%">
        <col style="width: 6%">
        <col style="width: 11%">
        </colgroup>
        <thead>
        <tr class="header">
        <th style="text-align: left;">Funding Body</th>
        <th style="text-align: left;">Role</th>
        <th style="text-align: left;">Period</th>
        <th style="text-align: left;">Project Title</th>
        <th style="text-align: left;">Value</th>
        <th style="text-align: left;">Type</th>
        </tr>
        </thead>
        <tbody>
        <tr class="odd">
        <td style="text-align: left;">Department of the Economy NI</td>
        <td style="text-align: left;">PI</td>
        <td style="text-align: left;">2025</td>
        <td style="text-align: left;">PhD Scholarship - Collaborative Doctoral Partnership with Pytillia</td>
        <td style="text-align: left;">£120,000</td>
        <td style="text-align: left;">PhD Scholarship</td>
        </tr>
        <tr class="even">
        <td style="text-align: left;">Department of the Economy NI</td>
        <td style="text-align: left;">PI</td>
        <td style="text-align: left;">2025</td>
        <td style="text-align: left;">PhD Scholarship - Collaborative Doctoral Partnership with Napier AI</td>
        <td style="text-align: left;">£120,000</td>
        <td style="text-align: left;">PhD Scholarship</td>
        </tr>
        <tr class="odd">
        <td style="text-align: left;">Department of the Economy NI</td>
        <td style="text-align: left;">PI</td>
        <td style="text-align: left;">2025</td>
        <td style="text-align: left;">PhD Scholarship - Centre for Finance and Responsible Technology</td>
        <td style="text-align: left;">£120,000</td>
        <td style="text-align: left;">PhD Scholarship</td>
        </tr>
        <tr class="even">
        <td style="text-align: left;">Innovate UK</td>
        <td style="text-align: left;">PI</td>
        <td style="text-align: left;">2022-2023</td>
        <td style="text-align: left;">E.S.G fair value analytics platform</td>
        <td style="text-align: left;">£173,000</td>
        <td style="text-align: left;">Research</td>
        </tr>
        <tr class="odd">
        <td style="text-align: left;">Innovate UK</td>
        <td style="text-align: left;">PI</td>
        <td style="text-align: left;">2021-2023</td>
        <td style="text-align: left;">Computational approaches to financial regulation and portfolio analytics</td>
        <td style="text-align: left;">£173,000</td>
        <td style="text-align: left;">Research</td>
        </tr>
        <tr class="even">
        <td style="text-align: left;">UKRI/InnovateUK</td>
        <td style="text-align: left;">PI</td>
        <td style="text-align: left;">2024-2025</td>
        <td style="text-align: left;">AI regulatory compliance in Investment Management</td>
        <td style="text-align: left;">£100,000</td>
        <td style="text-align: left;">Research</td>
        </tr>
        <tr class="odd">
        <td style="text-align: left;">DofE CAST Award NI</td>
        <td style="text-align: left;">Co-I</td>
        <td style="text-align: left;">2023</td>
        <td style="text-align: left;">Welfare Cost of Cultural Displays using AI</td>
        <td style="text-align: left;">£70,000</td>
        <td style="text-align: left;">Research</td>
        </tr>
        </tbody>
        </table>
        </div>
        </div>
        </figure>
        </div>
        </div>
        <p><strong>Total Research Income</strong>: £1,435,000+ (direct awards as PI/Co-I)<br>
        <strong>Success Rate</strong>: High success rate in competitive funding schemes<br>
        <strong>Industry Leverage</strong>: Strong track record of industry co-funding and partnerships, including collaborative doctoral partnerships with local firms</p>
        </section>
        <section id="research-impact-and-knowledge-transfer" class="level1">
        <h1>Research Impact and Knowledge Transfer</h1>
        <section id="industry-collaborations" class="level2">
        <h2 class="anchored" data-anchor-id="industry-collaborations">Industry Collaborations</h2>
        <ul>
        <li><strong>Pytillia</strong> - Collaborative Doctoral Partnership (PhD scholarship, £120K, 2025)</li>
        <li><strong>Napier AI</strong> - Collaborative Doctoral Partnership (PhD scholarship, £120K, 2025)</li>
        <li><strong>Funds Axis Ltd</strong> - Computational approaches to financial regulation and compliance solutions (ongoing)</li>
        <li><strong>Citigroup Belfast</strong> - Market manipulation detection (2022-2023)</li>
        <li><strong>Pearl AI Ltd</strong> - Advanced retail analytics (2017-2019)</li>
        <li><strong>Financial Conduct Authority</strong> - Tech Sprint Mentor (2023-present)</li>
        </ul>
        </section>
        <section id="research-supervision-excellence" class="level2">
        <h2 class="anchored" data-anchor-id="research-supervision-excellence">Research Supervision Excellence</h2>
        <section id="completed-phd-supervisions-6" class="level3">
        <h3 class="anchored" data-anchor-id="completed-phd-supervisions-6">Completed PhD Supervisions (6)</h3>
        <ol type="1">
        <li><strong>Dr.&nbsp;Jiadong Liu</strong> (2018): <em>Momentum in Empirical Asset Pricing</em> - Now research scientist</li>
        <li><strong>Dr.&nbsp;Ashleigh Neil</strong> (2019): <em>Law and Financial Stability</em> - Now policy analyst</li>
        <li><strong>Dr.&nbsp;Colm Kelly</strong> (2021): <em>Machine Learning in Empirical Asset Pricing</em> - Now quant researcher</li>
        <li><strong>Dr.&nbsp;Qiao Peng</strong> (2021): <em>US Credit Union Mergers</em> - Now assistant professor</li>
        <li><strong>Dr.&nbsp;Kevin Johnson</strong> (2019): <em>Industrial Consolidation</em> - Now senior analyst</li>
        <li><strong>Veronica Zhang</strong> (2024): <em>Capital Policy in Chinese Banking</em> - Graduating</li>
        </ol>
        </section>
        <section id="current-phd-supervisions-6" class="level3">
        <h3 class="anchored" data-anchor-id="current-phd-supervisions-6">Current PhD Supervisions (6)</h3>
        <ul>
        <li><strong>Fei Li</strong>: Sustainable Investing and Gender Diversity (QBS scholarship)</li>
        <li><strong>Abhishek Pramanick</strong>: AI and Future of Financial Regulation (QBS scholarship)<br>
        </li>
        <li><strong>Dongwei Li</strong>: Economics of AI Patents in Finance (DofE scholarship)</li>
        <li><strong>Yuqi Ding</strong>: Economics of Generative AI in Finance (QBS scholarship)</li>
        <li><strong>Yongsheng Dai</strong>: Market Manipulation Detection (PWC scholarship)</li>
        <li><strong>Brandon Cochrane</strong>: Economic Cost of Cultural Displays (DofE CAST scholarship)</li>
        </ul>
        </section>
        </section>
        <section id="international-research-network" class="level2">
        <h2 class="anchored" data-anchor-id="international-research-network">International Research Network</h2>
        <ul>
        <li><strong>Visiting PhD Supervisors</strong>: Students from China (SYSU), Ireland (UCD), France (UPEC Paris)</li>
        <li><strong>International Collaborations</strong>: Active research partnerships across Europe, Asia, and North America</li>
        <li><strong>Conference Presentations</strong>: Regular invited speaker at major international conferences</li>
        </ul>
        </section>
        </section>
        <section id="research-infrastructure-and-capabilities" class="level1">
        <h1>Research Infrastructure and Capabilities</h1>
        <section id="technical-expertise" class="level2">
        <h2 class="anchored" data-anchor-id="technical-expertise">Technical Expertise</h2>
        <ul>
        <li><strong>Advanced Statistical Methods</strong>: Time series econometrics, machine learning, deep learning</li>
        <li><strong>Programming Languages</strong>: R (expert), Python (advanced), SQL, MATLAB</li>
        <li><strong>Specialized Software</strong>: Bloomberg Terminal, Reuters, specialized financial databases</li>
        <li><strong>High-Performance Computing</strong>: Experience with cluster computing and big data analytics</li>
        </ul>
        </section>
        <section id="research-facilities" class="level2">
        <h2 class="anchored" data-anchor-id="research-facilities">Research Facilities</h2>
        <ul>
        <li><strong>Queen’s Business School Remote Analytics Lab Platform</strong> (Lead Developer, 2021-2024)</li>
        <li><strong>Finance and AI Research Lab</strong> (Co-director, 2022-2024)</li>
        <li><strong>Ulster University Centre for Finance and Responsible Technology</strong> (Director, 2024-present)</li>
        </ul>
        </section>
        <section id="training-capacity-building" class="level2">
        <h2 class="anchored" data-anchor-id="training-capacity-building">Training &amp; Capacity Building</h2>
        <ul>
        <li>Design and delivery of graduate teaching in Financial Data Science and causal AI, with applications in trading, market microstructure, and policy analysis</li>
        <li>Supervision and mentoring across econometrics, machine learning, and computational finance, including industry-partnered projects</li>
        <li>Emphasis on reproducible research (versioned data pipelines, model governance) and rigorous statistical standards for evidence-based decision-making</li>
        </ul>
        </section>
        </section>
        <section id="future-research-directions" class="level1">
        <h1>Future Research Directions</h1>
        <section id="emerging-research-themes" class="level2">
        <h2 class="anchored" data-anchor-id="emerging-research-themes">Emerging Research Themes</h2>
        <ol type="1">
        <li><strong>Generative AI in Capital Markets</strong>: Applications and regulatory implications</li>
        <li><strong>Explainable AI for Financial Regulation</strong>: Transparent algorithmic decision-making</li>
        <li><strong>Systemic Risk in Digital Finance</strong>: Cryptocurrency and DeFi risk assessment</li>
        <li><strong>Sustainable Finance Analytics</strong>: ESG integration and climate risk modeling</li>
        </ol>
        </section>
        <section id="methodology-innovation" class="level2">
        <h2 class="anchored" data-anchor-id="methodology-innovation">Methodology Innovation</h2>
        <ul>
        <li>Integration of large language models with traditional econometric approaches</li>
        <li>Development of hybrid AI systems for financial decision-making</li>
        <li>Advanced causal inference methods for policy evaluation</li>
        </ul>
        </section>
        </section>
        <section id="professional-recognition-and-service" class="level1">
        <h1>Professional Recognition and Service</h1>
        <section id="academic-leadership" class="level2">
        <h2 class="anchored" data-anchor-id="academic-leadership">Academic Leadership</h2>
        <ul>
        <li><strong>Director</strong>, Centre for Finance and Responsible Technology (2024-present)</li>
        <li><strong>Programme Director</strong>, MSc Quantitative Finance (2018-2022)</li>
        <li><strong>Organizer</strong>, Major symposiums on AI and Financial Regulation</li>
        </ul>
        </section>
        <section id="professional-recognition" class="level2">
        <h2 class="anchored" data-anchor-id="professional-recognition">Professional Recognition</h2>
        <ul>
        <li><strong>Chartered Statistician</strong>, Royal Statistical Society (2019)</li>
        <li><strong>1st Place</strong>, CFA European Quantitative Finance Awards (2018)</li>
        <li><strong>Advanced Data Science Professional</strong>, Royal Statistical Society (2023)</li>
        </ul>
        </section>
        <section id="editorial-and-review-activities" class="level2">
        <h2 class="anchored" data-anchor-id="editorial-and-review-activities">Editorial and Review Activities</h2>
        <ul>
        <li>Regular reviewer for major finance and technology journals</li>
        <li>Conference program committee member</li>
        <li>Grant review panels (available upon request)</li>
        </ul>
        <hr>
        <p><strong>Research Philosophy</strong>: Bridging cutting-edge quantitative methods with practical financial applications, maintaining statistical rigor while ensuring real-world relevance and regulatory compliance.</p>
        </section>
        </section>
    </main>

    <footer class="mt-6 text-center">
        <a href="index.pdf" class="download-btn">Download PDF Version</a>
    </footer>

        
        <!-- /main column -->
        <script id="quarto-html-after-body" type="application/javascript">
          window.document.addEventListener("DOMContentLoaded", function (event) {
            const icon = "";
            const anchorJS = new window.AnchorJS();
            anchorJS.options = {
              placement: 'right',
              icon: icon
            };
            anchorJS.add('.anchored');
            const isCodeAnnotation = (el) => {
              for (const clz of el.classList) {
                if (clz.startsWith('code-annotation-')) {                     
                  return true;
                }
              }
              return false;
            }
            const onCopySuccess = function(e) {
              // button target
              const button = e.trigger;
              // don't keep focus
              button.blur();
              // flash "checked"
              button.classList.add('code-copy-button-checked');
              var currentTitle = button.getAttribute("title");
              button.setAttribute("title", "Copied!");
              let tooltip;
              if (window.bootstrap) {
                button.setAttribute("data-bs-toggle", "tooltip");
                button.setAttribute("data-bs-placement", "left");
                button.setAttribute("data-bs-title", "Copied!");
                tooltip = new bootstrap.Tooltip(button, 
                  { trigger: "manual", 
                    customClass: "code-copy-button-tooltip",
                    offset: [0, -8]});
                tooltip.show();    
              }
              setTimeout(function() {
                if (tooltip) {
                  tooltip.hide();
                  button.removeAttribute("data-bs-title");
                  button.removeAttribute("data-bs-toggle");
                  button.removeAttribute("data-bs-placement");
                }
                button.setAttribute("title", currentTitle);
                button.classList.remove('code-copy-button-checked');
              }, 1000);
              // clear code selection
              e.clearSelection();
            }
            const getTextToCopy = function(trigger) {
              const outerScaffold = trigger.parentElement.cloneNode(true);
              const codeEl = outerScaffold.querySelector('code');
              for (const childEl of codeEl.children) {
                if (isCodeAnnotation(childEl)) {
                  childEl.remove();
                }
              }
              return codeEl.innerText;
            }
            const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
              text: getTextToCopy
            });
            clipboard.on('success', onCopySuccess);
            if (window.document.getElementById('quarto-embedded-source-code-modal')) {
              const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
                text: getTextToCopy,
                container: window.document.getElementById('quarto-embedded-source-code-modal')
              });
              clipboardModal.on('success', onCopySuccess);
            }
              var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
              var mailtoRegex = new RegExp(/^mailto:/);
                var filterRegex = new RegExp('/' + window.location.host + '/');
              var isInternal = (href) => {
                  return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
              }
              // Inspect non-navigation links and adorn them if external
             var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
              for (var i=0; i<links.length; i++) {
                const link = links[i];
                if (!isInternal(link.href)) {
                  // undo the damage that might have been done by quarto-nav.js in the case of
                  // links that we want to consider external
                  if (link.dataset.originalHref !== undefined) {
                    link.href = link.dataset.originalHref;
                  }
                }
              }
            function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
              const config = {
                allowHTML: true,
                maxWidth: 500,
                delay: 100,
                arrow: false,
                appendTo: function(el) {
                    return el.parentElement;
                },
                interactive: true,
                interactiveBorder: 10,
                theme: 'quarto',
                placement: 'bottom-start',
              };
              if (contentFn) {
                config.content = contentFn;
              }
              if (onTriggerFn) {
                config.onTrigger = onTriggerFn;
              }
              if (onUntriggerFn) {
                config.onUntrigger = onUntriggerFn;
              }
              window.tippy(el, config); 
            }
            const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
            for (var i=0; i<noterefs.length; i++) {
              const ref = noterefs[i];
              tippyHover(ref, function() {
                // use id or data attribute instead here
                let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
                try { href = new URL(href).hash; } catch {}
                const id = href.replace(/^#\/?/, "");
                const note = window.document.getElementById(id);
                if (note) {
                  return note.innerHTML;
                } else {
                  return "";
                }
              });
            }
            const xrefs = window.document.querySelectorAll('a.quarto-xref');
            const processXRef = (id, note) => {
              // Strip column container classes
              const stripColumnClz = (el) => {
                el.classList.remove("page-full", "page-columns");
                if (el.children) {
                  for (const child of el.children) {
                    stripColumnClz(child);
                  }
                }
              }
              stripColumnClz(note)
              if (id === null || id.startsWith('sec-')) {
                // Special case sections, only their first couple elements
                const container = document.createElement("div");
                if (note.children && note.children.length > 2) {
                  container.appendChild(note.children[0].cloneNode(true));
                  for (let i = 1; i < note.children.length; i++) {
                    const child = note.children[i];
                    if (child.tagName === "P" && child.innerText === "") {
                      continue;
                    } else {
                      container.appendChild(child.cloneNode(true));
                      break;
                    }
                  }
                  if (window.Quarto?.typesetMath) {
                    window.Quarto.typesetMath(container);
                  }
                  return container.innerHTML
                } else {
                  if (window.Quarto?.typesetMath) {
                    window.Quarto.typesetMath(note);
                  }
                  return note.innerHTML;
                }
              } else {
                // Remove any anchor links if they are present
                const anchorLink = note.querySelector('a.anchorjs-link');
                if (anchorLink) {
                  anchorLink.remove();
                }
                if (window.Quarto?.typesetMath) {
                  window.Quarto.typesetMath(note);
                }
                if (note.classList.contains("callout")) {
                  return note.outerHTML;
                } else {
                  return note.innerHTML;
                }
              }
            }
            for (var i=0; i<xrefs.length; i++) {
              const xref = xrefs[i];
              tippyHover(xref, undefined, function(instance) {
                instance.disable();
                let url = xref.getAttribute('href');
                let hash = undefined; 
                if (url.startsWith('#')) {
                  hash = url;
                } else {
                  try { hash = new URL(url).hash; } catch {}
                }
                if (hash) {
                  const id = hash.replace(/^#\/?/, "");
                  const note = window.document.getElementById(id);
                  if (note !== null) {
                    try {
                      const html = processXRef(id, note.cloneNode(true));
                      instance.setContent(html);
                    } finally {
                      instance.enable();
                      instance.show();
                    }
                  } else {
                    // See if we can fetch this
                    fetch(url.split('#')[0])
                    .then(res => res.text())
                    .then(html => {
                      const parser = new DOMParser();
                      const htmlDoc = parser.parseFromString(html, "text/html");
                      const note = htmlDoc.getElementById(id);
                      if (note !== null) {
                        const html = processXRef(id, note);
                        instance.setContent(html);
                      } 
                    }).finally(() => {
                      instance.enable();
                      instance.show();
                    });
                  }
                } else {
                  // See if we can fetch a full url (with no hash to target)
                  // This is a special case and we should probably do some content thinning / targeting
                  fetch(url)
                  .then(res => res.text())
                  .then(html => {
                    const parser = new DOMParser();
                    const htmlDoc = parser.parseFromString(html, "text/html");
                    const note = htmlDoc.querySelector('main.content');
                    if (note !== null) {
                      // This should only happen for chapter cross references
                      // (since there is no id in the URL)
                      // remove the first header
                      if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                        note.children[0].remove();
                      }
                      const html = processXRef(null, note);
                      instance.setContent(html);
                    } 
                  }).finally(() => {
                    instance.enable();
                    instance.show();
                  });
                }
              }, function(instance) {
              });
            }
                let selectedAnnoteEl;
                const selectorForAnnotation = ( cell, annotation) => {
                  let cellAttr = 'data-code-cell="' + cell + '"';
                  let lineAttr = 'data-code-annotation="' +  annotation + '"';
                  const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
                  return selector;
                }
                const selectCodeLines = (annoteEl) => {
                  const doc = window.document;
                  const targetCell = annoteEl.getAttribute("data-target-cell");
                  const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
                  const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
                  const lines = annoteSpan.getAttribute("data-code-lines").split(",");
                  const lineIds = lines.map((line) => {
                    return targetCell + "-" + line;
                  })
                  let top = null;
                  let height = null;
                  let parent = null;
                  if (lineIds.length > 0) {
                      //compute the position of the single el (top and bottom and make a div)
                      const el = window.document.getElementById(lineIds[0]);
                      top = el.offsetTop;
                      height = el.offsetHeight;
                      parent = el.parentElement.parentElement;
                    if (lineIds.length > 1) {
                      const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
                      const bottom = lastEl.offsetTop + lastEl.offsetHeight;
                      height = bottom - top;
                    }
                    if (top !== null && height !== null && parent !== null) {
                      // cook up a div (if necessary) and position it 
                      let div = window.document.getElementById("code-annotation-line-highlight");
                      if (div === null) {
                        div = window.document.createElement("div");
                        div.setAttribute("id", "code-annotation-line-highlight");
                        div.style.position = 'absolute';
                        parent.appendChild(div);
                      }
                      div.style.top = top - 2 + "px";
                      div.style.height = height + 4 + "px";
                      div.style.left = 0;
                      let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
                      if (gutterDiv === null) {
                        gutterDiv = window.document.createElement("div");
                        gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                        gutterDiv.style.position = 'absolute';
                        const codeCell = window.document.getElementById(targetCell);
                        const gutter = codeCell.querySelector('.code-annotation-gutter');
                        gutter.appendChild(gutterDiv);
                      }
                      gutterDiv.style.top = top - 2 + "px";
                      gutterDiv.style.height = height + 4 + "px";
                    }
                    selectedAnnoteEl = annoteEl;
                  }
                };
                const unselectCodeLines = () => {
                  const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
                  elementsIds.forEach((elId) => {
                    const div = window.document.getElementById(elId);
                    if (div) {
                      div.remove();
                    }
                  });
                  selectedAnnoteEl = undefined;
                };
                  // Handle positioning of the toggle
              window.addEventListener(
                "resize",
                throttle(() => {
                  elRect = undefined;
                  if (selectedAnnoteEl) {
                    selectCodeLines(selectedAnnoteEl);
                  }
                }, 10)
              );
              function throttle(fn, ms) {
              let throttle = false;
              let timer;
                return (...args) => {
                  if(!throttle) { // first call gets through
                      fn.apply(this, args);
                      throttle = true;
                  } else { // all the others get throttled
                      if(timer) clearTimeout(timer); // cancel #2
                      timer = setTimeout(() => {
                        fn.apply(this, args);
                        timer = throttle = false;
                      }, ms);
                  }
                };
              }
                // Attach click handler to the DT
                const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
                for (const annoteDlNode of annoteDls) {
                  annoteDlNode.addEventListener('click', (event) => {
                    const clickedEl = event.target;
                    if (clickedEl !== selectedAnnoteEl) {
                      unselectCodeLines();
                      const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
                      if (activeEl) {
                        activeEl.classList.remove('code-annotation-active');
                      }
                      selectCodeLines(clickedEl);
                      clickedEl.classList.add('code-annotation-active');
                    } else {
                      // Unselect the line
                      unselectCodeLines();
                      clickedEl.classList.remove('code-annotation-active');
                    }
                  });
                }
            const findCites = (el) => {
              const parentEl = el.parentElement;
              if (parentEl) {
                const cites = parentEl.dataset.cites;
                if (cites) {
                  return {
                    el,
                    cites: cites.split(' ')
                  };
                } else {
                  return findCites(el.parentElement)
                }
              } else {
                return undefined;
              }
            };
            var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
            for (var i=0; i<bibliorefs.length; i++) {
              const ref = bibliorefs[i];
              const citeInfo = findCites(ref);
              if (citeInfo) {
                tippyHover(citeInfo.el, function() {
                  var popup = window.document.createElement('div');
                  citeInfo.cites.forEach(function(cite) {
                    var citeDiv = window.document.createElement('div');
                    citeDiv.classList.add('hanging-indent');
                    citeDiv.classList.add('csl-entry');
                    var biblioDiv = window.document.getElementById('ref-' + cite);
                    if (biblioDiv) {
                      citeDiv.innerHTML = biblioDiv.innerHTML;
                    }
                    popup.appendChild(citeDiv);
                  });
                  return popup.innerHTML;
                });
              }
            }
          });
          </script>
         <!-- /content -->
    
</body></html>